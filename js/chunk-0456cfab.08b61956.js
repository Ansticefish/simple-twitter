(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0456cfab"],{be6c:function(t,r,a){"use strict";var e=a("2fa3");r["a"]={signIn:function(t){var r=t.account,a=t.password;return e["c"].post("/admin/signin",{account:r,password:a})},getPosts:function(){return e["c"].get("/admin/tweets")},deletePost:function(t){return e["c"].delete("/admin/tweets/".concat(t))},getUsers:function(){return e["c"].get("/admin/users")}}},c70e:function(t,r,a){},d946:function(t,r,a){"use strict";a.r(r);var e=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"admin col-lg-4 col-xl-4"},[e("img",{staticClass:"\n       admin__logo \n       mt-8",attrs:{src:a("94c1")}}),e("h3",{staticClass:"\n       admin__header \n       mt-6"},[t._v(" 後台登入 ")]),e("form",{staticClass:"admin__form",on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"\n         admin__form__wrapper \n         mt-8"},[e("label",{attrs:{for:"admin__form__wrapper__account"}},[t._v(" 帳號 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],class:{error:t.a.error},attrs:{type:"account",name:"account",id:"admin__form__wrapper__account",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:t.account},on:{input:function(r){r.target.composing||(t.account=r.target.value)}}}),e("label",{staticClass:"error-message"},[t._v(" "+t._s(t.a.warning)+" ")])]),e("div",{staticClass:"\n          admin__form__wrapper \n          mt-6"},[e("label",{attrs:{for:"admin__form__wrapper__password"}},[t._v(" 密碼 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{error:t.p.error},attrs:{type:"password",name:"password",id:"admin__form__wrapper__password",placeholder:"請輸入密碼",required:""},domProps:{value:t.password},on:{input:function(r){r.target.composing||(t.password=r.target.value)}}}),e("label",{staticClass:"error-message"},[t._v(" "+t._s(t.p.warning)+" ")])]),e("button",{staticClass:"admin__form__btn--submit\n         mt-8",attrs:{disabled:t.isProcessing}},[t._v(" 登入 ")])]),e("ul",{staticClass:"admin__ul\n       mt-4"},[e("li",{staticClass:"admin__ul__li\n          mr-3"},[e("router-link",{attrs:{to:"/signin"}},[t._v(" 前台登入 ")])],1)])])])])},s=[],n=a("1da1"),o=(a("96cf"),a("498a"),a("fb6a"),a("2fa3")),i=a("2708"),c=a("be6c"),u={name:"AdminSignIn",data:function(){return{account:"",password:"",a:{error:!1,warning:""},p:{error:!1,warning:""},isProcessing:!1}},mixins:[i["f"]],methods:{handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,e,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.isProcessing=!0,t.account.trim()&&t.password.trim()){r.next=6;break}return o["a"].fire({title:"帳號、密碼不可空白",html:o["b"].redCrossHtml}),t.isProcessing=!1,r.abrupt("return");case 6:return r.next=8,c["a"].signIn({account:t.account,password:t.password});case 8:a=r.sent,e=a.data,localStorage.setItem("token",e.token),o["a"].fire({title:"登入成功",html:o["b"].greenCheckHtml}),t.$store.commit("setCurrentUser",e.user),t.$router.push("/admin/posts"),r.next=28;break;case 16:if(r.prev=16,r.t0=r["catch"](0),t.isProcessing=!1,s=r.t0.response.data.message,"Error:只有管理者帳號可以登入後台！"!==s&&"Error:帳號不存在！"!==s){r.next=26;break}return t.a.error=!0,t.a.warning="帳號不存在！",r.abrupt("return");case 26:s?(n=s.slice(6),o["a"].fire({title:"".concat(n),html:o["b"].redCrossHtml})):o["a"].fire({title:"登入失敗",html:o["b"].redCrossHtml});case 27:t.password="";case 28:case"end":return r.stop()}}),r,null,[[0,16]])})))()}}},l=u,m=(a("dac9"),a("2877")),d=Object(m["a"])(l,e,s,!1,null,"0f8c810a",null);r["default"]=d.exports},dac9:function(t,r,a){"use strict";a("c70e")}}]);
//# sourceMappingURL=chunk-0456cfab.08b61956.js.map