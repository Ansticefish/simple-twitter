(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d0d9d2b"],{"0e6d":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["modal",{"home-style":t.isHome}]},[t.isHome?t._e():s("div",{staticClass:"\n    modal__header\n    modal-header"},[t.isHome?t._e():s("img",{staticClass:"modal__header__btn--close\n     ml-3",attrs:{src:n("6f32")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeModal.apply(null,arguments)}}})]),s("form",{class:["modal__content",{"home-style":t.isHome}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.createPost.apply(null,arguments)}}},[s("img",{staticClass:"modal__content__avatar",attrs:{src:t._f("emptyAvatar")(t.currentUser.avatar),alt:"avatar"}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postContent,expression:"postContent"}],staticClass:"modal__content__textarea mr-1",attrs:{placeholder:"有什麼新鮮事？",disabled:t.isHome},domProps:{value:t.postContent},on:{input:function(e){e.target.composing||(t.postContent=e.target.value)}}}),s("div",{staticClass:"modal__content__wrapper modal-footer mb-3"},[s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isHome,expression:"!isHome"}],staticClass:"modal__content__wrapper__warning \n        warning\n        mr-3"},[t._v(" "+t._s(t.warning)+" ")]),s("button",{staticClass:"modal__content__wrapper__btn--submit  mr-2",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 推文 ")])])])])},r=[],o=n("1da1"),a=(n("96cf"),n("498a"),n("2708")),i=n("684b"),c=n("2fa3"),u={name:"CreatePostModal",props:{isHome:{type:Boolean,default:!1},currentUser:{type:Object,required:!0}},data:function(){return{postContent:"",warning:"",isProcessing:!0}},mixins:[a["b"]],methods:{closeModal:function(){this.postContent="",this.$emit("closeCreateModal")},createPost:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isProcessing=!0,t.postContent.trim()){e.next=6;break}return t.warning="內容不可空白",t.isProcessing=!1,e.abrupt("return");case 6:return e.next=8,i["a"].createPost({description:t.postContent});case 8:c["a"].fire({title:"推文發送成功",html:c["b"].greenCheckHtml}),t.$emit("update-data"),t.closeModal(),t.postContent="",e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](0),t.isProcessing=!1,n=e.t0.response.data.message,"Error:推文內容不可空白！"===n?t.warning="內容不可空白":"Error:推文不可超過140字！"===n?t.warning="字數不可超過140字":c["a"].fire({title:"推文發送失敗",html:c["b"].redCrossHtml});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))()}},watch:{postContent:{handler:function(){this.postContent.trim().length>0&&this.postContent.length<141?(this.warning="",this.isProcessing=!1):this.postContent.length>140?(this.warning="字數不可超過140字",this.isProcessing=!0):(this.warning="內容不可空白",this.isProcessing=!0)}}}},l=u,d=(n("dbed"),n("2877")),p=Object(d["a"])(l,s,r,!1,null,"9df603e6",null);e["a"]=p.exports},"285d":function(t,e,n){"use strict";n("85c6")},"4cce":function(t,e,n){"use strict";n("b0c0");var s=n("2fa3");e["a"]={getUsersTop:function(){return s["c"].get("/users/top")},getUser:function(t){var e=t.id;return s["c"].get("/users/".concat(e))},editUserProfile:function(t){var e=t.id,n=t.formData;return s["c"].put("/users/".concat(e),n,{headers:{"Content-Type":"multipart/form-data"}})},editUserSetting:function(t){var e=t.id,n=t.account,r=t.name,o=t.email,a=t.password,i=t.checkPassword;return s["c"].put("/users/".concat(e,"/setting"),{account:n,name:r,email:o,password:a,checkPassword:i})},getUserPosts:function(t){return s["c"].get("/users/".concat(t,"/tweets"))},getUserReplies:function(t){return s["c"].get("/users/".concat(t,"/replied_tweets"))},getUserLikes:function(t){return s["c"].get("/users/".concat(t,"/likes"))},userFollowings:function(t){return s["c"].get("/users/".concat(t,"/followings"))},userFollowers:function(t){return s["c"].get("/users/".concat(t,"/followers"))},followUser:function(t){return s["c"].post("/followships",{id:t})},unfollowUser:function(t){return s["c"].delete("/followships/".concat(t))}}},"684b":function(t,e,n){"use strict";n("a4d3"),n("e01a");var s=n("2fa3");e["a"]={getPosts:function(){return s["c"].get("/tweets")},getPost:function(t){return s["c"].get("/tweets/".concat(t))},getPostReplies:function(t){return s["c"].get("/tweets/".concat(t,"/replies"))},createPost:function(t){var e=t.description;return s["c"].post("/tweets",{description:e})},createReply:function(t){var e=t.postId,n=t.comment;return s["c"].post("/tweets/".concat(e,"/replies"),{comment:n})},likePost:function(t){return s["c"].post("/tweets/".concat(t,"/like"),null)},unlikePost:function(t){return s["c"].post("/tweets/".concat(t,"/unlike"),null)}}},"6f32":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVHgBxdfLEYIwEAbgf6nAEuxMPOjdDijBsx6MldmCHWCCBHmEZDdsxj0AG5Z8M5lkZwD+FOQu7RkHtLja7G3Thm54okCMHQ+/7G0/qqm18Q4FjM+r7yh2szrTFxZBfzBwCdSr4CHUBQ0FJ9Q2ewS+zV72NdSu8JEmuSIeRe8wtBhXwFOoe6TghxtwDroK5+JcNApLcQmahLm4FGXBKby/GwhQNpzAIUVFMBtnoGI4iTNRFxWkQXb6nHeLUkGs7t5psDocf3PxUDbOO06Rc9rPIm6v6QbCaA457ZW2osOQECcNNAcnLVSKkyYqwUkb5eJUAmXhpdAU7nt1gwKoi24O32gW8PxPQgmN4R+H8M/Gca8TfQAAAABJRU5ErkJggg=="},"7c08":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"sidebar"}},[n("div",{staticClass:"sidebar__upper"},[t._m(0),n("ul",{staticClass:"sidebar__upper__menu mt-3"},[n("li",{staticClass:"sidebar__upper__menu__item"},[n("div",{class:["menu__item__home-icon",{active:"home"===t.currentPage}]}),n("router-link",{attrs:{to:"/home"}},[t._v("首頁")])],1),n("li",{staticClass:"sidebar__upper__menu__item"},[n("div",{class:["menu__item__person-icon",{active:"personal"===t.currentPage}]}),n("router-link",{attrs:{to:{name:"personal-page-root",params:{id:t.currentUser.id}}}},[t._v("個人資料")])],1),n("li",{staticClass:"sidebar__upper__menu__item"},[n("div",{class:["menu__item__set-icon",{active:"setting"===t.currentPage}]}),n("router-link",{attrs:{to:{name:"setting-page",params:{id:t.currentUser.id}}}},[t._v("設定")])],1)]),n("button",{staticClass:"sidebar__upper__tweet mt-2",on:{click:t.openCreateModal}},[t._v(" 推文 ")])]),n("button",{staticClass:"sidebar__log-out",on:{click:t.logout}},[n("div",{staticClass:"sidebar__log-out__icon"}),n("span",{staticClass:"sidebar__log-out__span"},[t._v("登出")])]),t.openCreate?n("div",{staticClass:"modal-backdrop"},[n("CreatePostModal",{attrs:{currentUser:t.currentUser,isHome:!1},on:{closeCreateModal:t.closeCreateModal,"update-data":t.updateData}})],1):t._e()])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar__upper__icon"},[s("img",{attrs:{src:n("94c1"),alt:"icon"}})])}],o=n("5530"),a=(n("b0c0"),n("a9e3"),n("caad"),n("2532"),n("0e6d")),i=n("2f62"),c=n("2fa3"),u={name:"SideBar",components:{CreatePostModal:a["a"]},data:function(){return{openCreate:!1}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),c["a"].fire({title:"已登出",html:c["b"].blueInformHtml}),this.$router.push("/signIn")},updateData:function(){"home-page"===this.$route.name?this.$emit("update"):this.$router.push("/home")},openCreateModal:function(){this.openCreate=!0},closeCreateModal:function(){this.openCreate=!1}},computed:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["currentUser"])),{},{currentPage:function(){var t=this.$route.name,e=Number(this.$route.params.id);return"setting-page"===t?"setting":(t.includes("personal")||t.includes("follow"))&&e===this.currentUser.id?"personal":"home"},routeParamsId:function(){return this.route.params.id}})},l=u,d=(n("285d"),n("2877")),p=Object(d["a"])(l,s,r,!1,null,"05234d81",null);e["a"]=p.exports},8491:function(t,e,n){},"85c6":function(t,e,n){},dbed:function(t,e,n){"use strict";n("8491")},e01a:function(t,e,n){"use strict";var s=n("23e7"),r=n("83ab"),o=n("da84"),a=n("e330"),i=n("1a2d"),c=n("1626"),u=n("3a9b"),l=n("577e"),d=n("9bf2").f,p=n("e893"),m=o.Symbol,_=m&&m.prototype;if(r&&c(m)&&(!("description"in _)||void 0!==m().description)){var f={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(_,this)?new m(t):void 0===t?m():m(t);return""===t&&(f[e]=!0),e};p(g,m),g.prototype=_,_.constructor=g;var h="Symbol(test)"==String(m("test")),v=a(_.toString),b=a(_.valueOf),w=/^Symbol\((.*)\)[^)]+$/,C=a("".replace),A=a("".slice);d(_,"description",{configurable:!0,get:function(){var t=b(this),e=v(t);if(i(f,t))return"";var n=h?A(e,7,-1):C(e,w,"$1");return""===n?void 0:n}}),s({global:!0,constructor:!0,forced:!0},{Symbol:g})}}}]);
//# sourceMappingURL=chunk-1d0d9d2b.00880c14.js.map